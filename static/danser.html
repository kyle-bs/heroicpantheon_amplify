<!DOCTYPE html>
<html>
	<head>
		<!-- Meta -->
		<meta charset="utf-8">
		<title>Treasure Source - by Danser Sunrun of Dromaria</title>

		<!-- Viewport for Responsivity -->
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">

		<!-- Favicon -->
		<link rel="shortcut icon" type="image/png" href="favicon.png"/>

		<meta name="description" content="Map of the Stolen Lands">

		<!-- Stylesheets -->
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="mapplic/mapplic.css">
		<style type="text/css">
			body {
				background-color: #fff;
				color: #666;
				font-family: 'Open Sans', sans-serif;
				font-size: 14px;
				margin: 0;
			}
		</style>

		<!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
	</head>
	<body>
		<!-- Map -->
		<!-- <div id="mapplic" class="mapplic-fullscreen"></div> -->
		<div class="map-container">
			<div id="mapplic" class="mapplic-transparent"></div>
    </div>
		<div id='table-container'></div>
		<!-- Scripts -->
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/jquery.mousewheel.js"></script>
		<script type="text/javascript" src="mapplic/mapplic.js"></script>
		<!--<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>-->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="js/jquery.csv.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
    <script type="text/javascript" src="js/csv_to_html_table.js"></script>

		<script type="text/javascript">
			$(document).ready(function() {
				var css = '.mapplic-filtered svg [id^=landmark] > * {opacity: 1 !important; }';

				var mapplic = $('#mapplic').mapplic({
					source: 'treasuresource.json',
					height: '100%',
					customcss: css,
					sidebar: true,
					search: true,
					searchdescription: true,
					minimap: false,
					marker: 'hidden',
					fullscreen: true,
					developer: false,
					thumbholder: false,
					maxscale: 4,
					smartip: true,
					developer: true,
					sidebartoggle: true,
					deeplinking: true,
					zoomoutclose: true,
					moretext: 'Session',
					bgcolor: '#333',
					bgcolor2: '#666',
					textcolor: '#aaa',
					headingcolor: '#fff',
					alphabetic: true
				});
			});
		</script>

		<script type="text/javascript">
      function format_link(link){
        if (link)
          return "<a href='" + link + "'>" + "Link</a>";
        else
          return "";
      }

      CsvToHtmlTable.init({
        csv_path: 'data.csv',
        element: 'table-container',
        allow_download: true,
        csv_options: {separator: ',', delimiter: '"'},
        datatables_options: {"paging": false},
        custom_formatting: [[8, format_link],[9, format_link]]
      });
    </script>
	</body>

</html>
